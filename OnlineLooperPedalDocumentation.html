<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">.lst-kix_pw4nd3ovbcz8-4>li:before{content:"\0025cb   "}.lst-kix_pw4nd3ovbcz8-6>li:before{content:"\0025cf   "}.lst-kix_pw4nd3ovbcz8-1>li:before{content:"\0025cb   "}.lst-kix_pw4nd3ovbcz8-5>li:before{content:"\0025a0   "}.lst-kix_w7q6eojr8rdy-3>li{counter-increment:lst-ctn-kix_w7q6eojr8rdy-3}.lst-kix_ilmqv5kgvnpf-8>li{counter-increment:lst-ctn-kix_ilmqv5kgvnpf-8}.lst-kix_ilmqv5kgvnpf-0>li:before{content:"" counter(lst-ctn-kix_ilmqv5kgvnpf-0,decimal) ".) "}.lst-kix_w7q6eojr8rdy-8>li{counter-increment:lst-ctn-kix_w7q6eojr8rdy-8}.lst-kix_pw4nd3ovbcz8-2>li:before{content:"\0025a0   "}.lst-kix_ilmqv5kgvnpf-2>li{counter-increment:lst-ctn-kix_ilmqv5kgvnpf-2}.lst-kix_ilmqv5kgvnpf-1>li:before{content:"" counter(lst-ctn-kix_ilmqv5kgvnpf-1,lower-latin) ".) "}.lst-kix_ilmqv5kgvnpf-2>li:before{content:"" counter(lst-ctn-kix_ilmqv5kgvnpf-2,lower-roman) ".) "}ol.lst-kix_w7q6eojr8rdy-5.start{counter-reset:lst-ctn-kix_w7q6eojr8rdy-5 0}.lst-kix_pw4nd3ovbcz8-3>li:before{content:"\0025cf   "}ol.lst-kix_w7q6eojr8rdy-4{list-style-type:none}ul.lst-kix_pw4nd3ovbcz8-0{list-style-type:none}ol.lst-kix_ilmqv5kgvnpf-7.start{counter-reset:lst-ctn-kix_ilmqv5kgvnpf-7 0}ol.lst-kix_w7q6eojr8rdy-3{list-style-type:none}.lst-kix_ilmqv5kgvnpf-3>li:before{content:"(" counter(lst-ctn-kix_ilmqv5kgvnpf-3,decimal) ") "}.lst-kix_ilmqv5kgvnpf-4>li:before{content:"(" counter(lst-ctn-kix_ilmqv5kgvnpf-4,lower-latin) ") "}ol.lst-kix_w7q6eojr8rdy-2{list-style-type:none}ol.lst-kix_w7q6eojr8rdy-8.start{counter-reset:lst-ctn-kix_w7q6eojr8rdy-8 0}ul.lst-kix_pw4nd3ovbcz8-2{list-style-type:none}ol.lst-kix_w7q6eojr8rdy-1{list-style-type:none}ul.lst-kix_pw4nd3ovbcz8-1{list-style-type:none}ol.lst-kix_w7q6eojr8rdy-8{list-style-type:none}ol.lst-kix_w7q6eojr8rdy-7{list-style-type:none}ol.lst-kix_w7q6eojr8rdy-6{list-style-type:none}.lst-kix_ilmqv5kgvnpf-7>li{counter-increment:lst-ctn-kix_ilmqv5kgvnpf-7}ol.lst-kix_w7q6eojr8rdy-5{list-style-type:none}.lst-kix_pw4nd3ovbcz8-8>li:before{content:"\0025a0   "}ul.lst-kix_pw4nd3ovbcz8-8{list-style-type:none}ul.lst-kix_pw4nd3ovbcz8-7{list-style-type:none}.lst-kix_ilmqv5kgvnpf-7>li:before{content:"" counter(lst-ctn-kix_ilmqv5kgvnpf-7,lower-latin) ". "}ul.lst-kix_pw4nd3ovbcz8-4{list-style-type:none}ul.lst-kix_pw4nd3ovbcz8-3{list-style-type:none}.lst-kix_ilmqv5kgvnpf-5>li:before{content:"(" counter(lst-ctn-kix_ilmqv5kgvnpf-5,lower-roman) ") "}.lst-kix_ilmqv5kgvnpf-6>li:before{content:"" counter(lst-ctn-kix_ilmqv5kgvnpf-6,decimal) ". "}ul.lst-kix_pw4nd3ovbcz8-6{list-style-type:none}.lst-kix_pw4nd3ovbcz8-7>li:before{content:"\0025cb   "}ul.lst-kix_pw4nd3ovbcz8-5{list-style-type:none}.lst-kix_ilmqv5kgvnpf-1>li{counter-increment:lst-ctn-kix_ilmqv5kgvnpf-1}.lst-kix_w7q6eojr8rdy-7>li{counter-increment:lst-ctn-kix_w7q6eojr8rdy-7}.lst-kix_w7q6eojr8rdy-4>li{counter-increment:lst-ctn-kix_w7q6eojr8rdy-4}ol.lst-kix_w7q6eojr8rdy-6.start{counter-reset:lst-ctn-kix_w7q6eojr8rdy-6 0}ol.lst-kix_ilmqv5kgvnpf-7{list-style-type:none}ol.lst-kix_ilmqv5kgvnpf-8{list-style-type:none}.lst-kix_w7q6eojr8rdy-7>li:before{content:"" counter(lst-ctn-kix_w7q6eojr8rdy-7,lower-latin) ". "}.lst-kix_w7q6eojr8rdy-8>li:before{content:"" counter(lst-ctn-kix_w7q6eojr8rdy-8,lower-roman) ". "}.lst-kix_ilmqv5kgvnpf-8>li:before{content:"" counter(lst-ctn-kix_ilmqv5kgvnpf-8,lower-roman) ". "}ol.lst-kix_w7q6eojr8rdy-0{list-style-type:none}.lst-kix_w7q6eojr8rdy-6>li:before{content:"" counter(lst-ctn-kix_w7q6eojr8rdy-6,decimal) ". "}ol.lst-kix_ilmqv5kgvnpf-6.start{counter-reset:lst-ctn-kix_ilmqv5kgvnpf-6 0}ol.lst-kix_w7q6eojr8rdy-2.start{counter-reset:lst-ctn-kix_w7q6eojr8rdy-2 0}.lst-kix_w7q6eojr8rdy-3>li:before{content:"" counter(lst-ctn-kix_w7q6eojr8rdy-3,decimal) ". "}.lst-kix_w7q6eojr8rdy-4>li:before{content:"" counter(lst-ctn-kix_w7q6eojr8rdy-4,lower-latin) ". "}.lst-kix_w7q6eojr8rdy-2>li{counter-increment:lst-ctn-kix_w7q6eojr8rdy-2}ol.lst-kix_ilmqv5kgvnpf-0.start{counter-reset:lst-ctn-kix_ilmqv5kgvnpf-0 0}.lst-kix_w7q6eojr8rdy-1>li:before{content:"" counter(lst-ctn-kix_w7q6eojr8rdy-1,lower-latin) ". "}.lst-kix_w7q6eojr8rdy-5>li:before{content:"" counter(lst-ctn-kix_w7q6eojr8rdy-5,lower-roman) ". "}ol.lst-kix_ilmqv5kgvnpf-5{list-style-type:none}ol.lst-kix_ilmqv5kgvnpf-6{list-style-type:none}ol.lst-kix_ilmqv5kgvnpf-3{list-style-type:none}.lst-kix_pw4nd3ovbcz8-0>li:before{content:"\0025cf   "}ol.lst-kix_ilmqv5kgvnpf-4{list-style-type:none}ol.lst-kix_ilmqv5kgvnpf-1{list-style-type:none}ol.lst-kix_ilmqv5kgvnpf-3.start{counter-reset:lst-ctn-kix_ilmqv5kgvnpf-3 0}.lst-kix_w7q6eojr8rdy-2>li:before{content:"" counter(lst-ctn-kix_w7q6eojr8rdy-2,lower-roman) ". "}ol.lst-kix_ilmqv5kgvnpf-2{list-style-type:none}ol.lst-kix_ilmqv5kgvnpf-0{list-style-type:none}ol.lst-kix_w7q6eojr8rdy-0.start{counter-reset:lst-ctn-kix_w7q6eojr8rdy-0 0}.lst-kix_w7q6eojr8rdy-0>li:before{content:"" counter(lst-ctn-kix_w7q6eojr8rdy-0,decimal) ". "}.lst-kix_w7q6eojr8rdy-0>li{counter-increment:lst-ctn-kix_w7q6eojr8rdy-0}ol.lst-kix_ilmqv5kgvnpf-5.start{counter-reset:lst-ctn-kix_ilmqv5kgvnpf-5 0}.lst-kix_w7q6eojr8rdy-5>li{counter-increment:lst-ctn-kix_w7q6eojr8rdy-5}.lst-kix_ilmqv5kgvnpf-5>li{counter-increment:lst-ctn-kix_ilmqv5kgvnpf-5}ol.lst-kix_ilmqv5kgvnpf-1.start{counter-reset:lst-ctn-kix_ilmqv5kgvnpf-1 0}.lst-kix_ilmqv5kgvnpf-4>li{counter-increment:lst-ctn-kix_ilmqv5kgvnpf-4}ol.lst-kix_w7q6eojr8rdy-3.start{counter-reset:lst-ctn-kix_w7q6eojr8rdy-3 0}.lst-kix_w7q6eojr8rdy-1>li{counter-increment:lst-ctn-kix_w7q6eojr8rdy-1}ol.lst-kix_ilmqv5kgvnpf-4.start{counter-reset:lst-ctn-kix_ilmqv5kgvnpf-4 0}.lst-kix_ilmqv5kgvnpf-6>li{counter-increment:lst-ctn-kix_ilmqv5kgvnpf-6}ol.lst-kix_w7q6eojr8rdy-4.start{counter-reset:lst-ctn-kix_w7q6eojr8rdy-4 0}.lst-kix_ilmqv5kgvnpf-3>li{counter-increment:lst-ctn-kix_ilmqv5kgvnpf-3}ol.lst-kix_w7q6eojr8rdy-1.start{counter-reset:lst-ctn-kix_w7q6eojr8rdy-1 0}.lst-kix_ilmqv5kgvnpf-0>li{counter-increment:lst-ctn-kix_ilmqv5kgvnpf-0}ol.lst-kix_ilmqv5kgvnpf-2.start{counter-reset:lst-ctn-kix_ilmqv5kgvnpf-2 0}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}ol.lst-kix_w7q6eojr8rdy-7.start{counter-reset:lst-ctn-kix_w7q6eojr8rdy-7 0}.lst-kix_w7q6eojr8rdy-6>li{counter-increment:lst-ctn-kix_w7q6eojr8rdy-6}ol.lst-kix_ilmqv5kgvnpf-8.start{counter-reset:lst-ctn-kix_ilmqv5kgvnpf-8 0}ol{margin:0;padding:0}table td,table th{padding:0}.c1{margin-left:36pt;padding-top:0pt;padding-left:0pt;padding-bottom:0pt;line-height:2.0;orphans:2;widows:2;text-align:left}.c4{padding-top:0pt;padding-bottom:0pt;line-height:2.0;orphans:2;widows:2;text-align:left;height:11pt}.c13{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c0{padding-top:0pt;padding-bottom:0pt;line-height:2.0;orphans:2;widows:2;text-align:center}.c8{padding-top:0pt;padding-bottom:0pt;line-height:2.0;orphans:2;widows:2;text-align:left}.c18{padding-top:0pt;padding-bottom:0pt;line-height:1.5;orphans:2;widows:2;text-align:center}.c3{color:#000000;text-decoration:none;vertical-align:baseline;font-style:normal}.c2{font-size:12pt;font-weight:400;font-family:"Times New Roman"}.c22{font-weight:400;font-size:37pt;font-family:"Times New Roman"}.c20{font-weight:400;font-size:55pt;font-family:"Times New Roman"}.c7{font-weight:400;font-size:18pt;font-family:"Times New Roman"}.c21{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c9{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;text-decoration:underline}.c16{font-weight:400;font-size:19pt;font-family:"Times New Roman"}.c12{color:inherit;text-decoration:inherit}.c17{margin-left:108pt;text-indent:36pt}.c14{margin-left:72pt;padding-left:0pt}.c15{margin-left:144pt;padding-left:0pt}.c10{margin-left:108pt;padding-left:0pt}.c6{padding:0;margin:0}.c23{margin-left:180pt}.c11{color:#1155cc}.c5{height:11pt}.c19{color:#0000ee}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c21 doc-content"><div><p class="c13"><span class="c16">Page </span><span class="c3 c16">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Looper Pedal Documentation</span></p><hr><p class="c5 c13"><span class="c3 c16"></span></p><p class="c13 c5"><span class="c3 c16"></span></p></div><p class="c18"><span class="c3 c20">Online Looper Pedal Documentation</span></p><p class="c18"><span class="c3 c22">By: Kyler VanCamp</span></p><p class="c4"><span class="c3 c7"></span></p><p class="c8"><span class="c3 c7">Content:</span></p><p class="c8"><span class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c7 c9">Project Outline</span><span class="c3 c7">: Pages 2-4</span></p><p class="c8"><span class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c7 c9">Project Narrative</span><span class="c3 c7">: Pages 5-7</span></p><p class="c8"><span class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c7 c9">Project Images/videos/diagram</span><span class="c3 c7">: &nbsp;Pages 8-11</span></p><p class="c8"><span class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c7 c9">Future Development plans:</span><span class="c3 c7">&nbsp;Pages 12</span></p><p class="c8 c17"><span class="c7 c9">Github Link to code: </span><span class="c3 c7">&nbsp;Page 13</span></p><p class="c8"><span class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c7 c9">Resources</span><span class="c3 c7">: Page 14</span></p><p class="c4"><span class="c3 c7"></span></p><p class="c4"><span class="c3 c7"></span></p><p class="c0"><span class="c3 c7">Project Outline:</span></p><p class="c8"><span class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3 c2">The Looper pedal mirrors the way a normal guitar loop pedal, such as the POD HD500X looper function or the RC-1 loop station, works. It builds off of this by adding a website interface with download functions, making it particularly easy to download loops into DAW projects. It consists of the following parts:</span></p><ol class="c6 lst-kix_w7q6eojr8rdy-0 start" start="1"><li class="c1 li-bullet-0"><span class="c3 c2">Arduino</span></li></ol><ol class="c6 lst-kix_w7q6eojr8rdy-1 start" start="1"><li class="c8 c14 li-bullet-0"><span class="c3 c2">Arduino side code</span></li></ol><ol class="c6 lst-kix_w7q6eojr8rdy-2 start" start="1"><li class="c8 c10 li-bullet-0"><span class="c3 c2">For code functionality, go to part 2 of this document, which is the narrative overview of the project, or go to the code itself. It is very well documented by comments. </span></li></ol><ol class="c6 lst-kix_w7q6eojr8rdy-1" start="2"><li class="c8 c14 li-bullet-0"><span class="c3 c2">2 buttons </span></li></ol><ol class="c6 lst-kix_w7q6eojr8rdy-2 start" start="1"><li class="c8 c10 li-bullet-0"><span class="c3 c2">1 button for main loop record and playback</span></li><li class="c8 c10 li-bullet-0"><span class="c3 c2">1 button for overdub loop record and playback</span></li></ol><ol class="c6 lst-kix_w7q6eojr8rdy-1" start="3"><li class="c8 c14 li-bullet-0"><span class="c3 c2">3 LEDS</span></li></ol><ol class="c6 lst-kix_w7q6eojr8rdy-2 start" start="1"><li class="c8 c10 li-bullet-0"><span class="c3 c2">1 yellow LED for mainloop playback and recording</span></li><li class="c8 c10 li-bullet-0"><span class="c3 c2">1 blue LED for overdub playback, recording</span></li><li class="c8 c10 li-bullet-0"><span class="c3 c2">1 red LED for &ldquo;make it stop&rdquo; button on website interface</span></li></ol><p class="c4 c23"><span class="c3 c2"></span></p><ol class="c6 lst-kix_w7q6eojr8rdy-0" start="2"><li class="c1 li-bullet-0"><span class="c3 c2">Javascript P5 website (See actual code and narrative for more in depth documentation).</span></li></ol><ol class="c6 lst-kix_w7q6eojr8rdy-1 start" start="1"><li class="c8 c14 li-bullet-0"><span class="c3 c2">3 website embedded buttons </span></li></ol><ol class="c6 lst-kix_w7q6eojr8rdy-2 start" start="1"><li class="c8 c10 li-bullet-0"><span class="c3 c2">1 button for connecting to Arduino and allowing Tone to work</span></li><li class="c8 c10 li-bullet-0"><span class="c3 c2">1 button, named &ldquo;make it stop&rdquo; to stop the loops entirely</span></li><li class="c8 c10 li-bullet-0"><span class="c3 c2">1 button, named &ldquo;download your abomination&hellip; i mean creation&rdquo; to download two wav files, the main loop and the overdub loop. </span></li></ol><ol class="c6 lst-kix_w7q6eojr8rdy-1" start="2"><li class="c8 c14 li-bullet-0"><span class="c3 c2">3 website states</span></li></ol><ol class="c6 lst-kix_w7q6eojr8rdy-2 start" start="1"><li class="c8 c10 li-bullet-0"><span class="c2 c3">1st state for the welcome page, which is used as a buffer for connecting to the arduino and allowing audio permissions.</span></li><li class="c8 c10 li-bullet-0"><span class="c3 c2">2nd state for the loop page, which is where the loop functionality is able to be used</span></li><li class="c8 c10 li-bullet-0"><span class="c3 c2">3rd state for the thank you page, and for downloading the loops. </span></li></ol><ol class="c6 lst-kix_w7q6eojr8rdy-1" start="3"><li class="c8 c14 li-bullet-0"><span class="c3 c2">2 self-made sprite animations</span></li></ol><ol class="c6 lst-kix_w7q6eojr8rdy-2 start" start="1"><li class="c8 c10 li-bullet-0"><span class="c3 c2">1 animation for when a loop is being recorded </span></li><li class="c8 c10 li-bullet-0"><span class="c3 c2">1 animation for when a loop is playing </span></li></ol><ol class="c6 lst-kix_w7q6eojr8rdy-1" start="4"><li class="c8 c14 li-bullet-0"><span class="c3 c2">5 Libraries used</span></li></ol><ol class="c6 lst-kix_w7q6eojr8rdy-2 start" start="1"><li class="c8 c10 li-bullet-0"><span class="c2 c9 c11"><a class="c12" href="https://www.google.com/url?q=http://tone.js&amp;sa=D&amp;source=editors&amp;ust=1747012233043594&amp;usg=AOvVaw0eTdsgy24W_JDXXJ9GOlTI">Tone.js</a></span></li></ol><ol class="c6 lst-kix_w7q6eojr8rdy-3 start" start="1"><li class="c8 c15 li-bullet-0"><span class="c2">Used for taking in input, recording, and playback </span></li></ol><ol class="c6 lst-kix_w7q6eojr8rdy-2" start="2"><li class="c8 c10 li-bullet-0"><span class="c2 c9 c11"><a class="c12" href="https://www.google.com/url?q=http://p5.js&amp;sa=D&amp;source=editors&amp;ust=1747012233043789&amp;usg=AOvVaw0liwbmsoE_2udXFqv5mXhg">p5.js</a></span></li></ol><ol class="c6 lst-kix_w7q6eojr8rdy-3 start" start="1"><li class="c8 c15 li-bullet-0"><span class="c2">Used for core website functionality </span></li></ol><ol class="c6 lst-kix_w7q6eojr8rdy-2" start="3"><li class="c8 c10 li-bullet-0"><span class="c3 c2">p5.webserial </span></li></ol><ol class="c6 lst-kix_w7q6eojr8rdy-3 start" start="1"><li class="c8 c15 li-bullet-0"><span class="c3 c2">Used for Arduino/p5 website communication</span></li></ol><ol class="c6 lst-kix_w7q6eojr8rdy-2" start="4"><li class="c8 c10 li-bullet-0"><span class="c2 c9 c11"><a class="c12" href="https://www.google.com/url?q=http://filesaver.js&amp;sa=D&amp;source=editors&amp;ust=1747012233044051&amp;usg=AOvVaw2mhMKuCZnigYi-ZBRNOxDM">FileSaver.js</a></span></li></ol><ol class="c6 lst-kix_w7q6eojr8rdy-3 start" start="1"><li class="c8 c15 li-bullet-0"><span class="c3 c2">Used for loop file downloads.</span></li></ol><p class="c8"><span class="c3 c2">Both the Arduino and the p5 website communicate with each other using serial communication. For a more in depth look at how everything relates to each other and overall functionality, see the code comments, narrative, and image parts of this document. </span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c0"><span class="c3 c7">Project Narrative:</span></p><p class="c8"><span class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3 c2">Recently, I decided to sell my RC-1 loop station in order to buy a synth. It was only then that I realized a loop station was so important to me, which is immediately why I started trying to make one prior to this class, but instead of an arduino it was on a Rasp pi 4. To say it did not go well is an understatement of how much trouble that gave me. The audio interface system on the Rasp Pi operating system is so unnecessarily complex, that even after I wrote the code with the corresponding GPIO pins and had everything wired correctly, it refused to work due to audio interface issues. &nbsp;Any time it would work, the corresponding output was not synced and crusty from being compressed. I eventually gave up on that project, so when the project for this class was introduced, I knew it was my chance to try again. One of the issues I had with my normal loop pedal was that if I recorded a perfect loop, I still had to get it to my computer. Since the loop audio would go through so many different forms from going to my guitar to the loop station to a computer, it would often be crusty, compressed, and not usable in music. I figured a website that would allow you to make a loop using your own audio interface but with website side code and save functions (for download) would be of extreme use. The only issue, which is always the issue with looper pedals, is syncing issues and getting used to how loop stations overcome this (Timing the come-in of the overdub correctly). That was the backstory of this project, now here is the narrative of how it runs. </span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c8"><span class="c3 c2">Note: to avoid becoming overly technical, any place where a function is named, the reader can go to the attached code at the bottom of the document, find the function, and read step by step the comments which in-depth document the code. These functions will be underlined. </span></p><p class="c4"><span class="c3 c2"></span></p><p class="c8"><span class="c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;When the website is started, after all the initialization and setup code is done, the first thing a user is able to do is read the main text which prompts the user to connect their arduino with the necessary code and to allow audio permissions. This is done through pressing the connect button at the top left of the screen. The button press goes to the </span><span class="c2 c9">connectToSerial </span><span class="c2">function. Here is where the audio permissions are triggered, and the </span><span class="c2 c9 c11"><a class="c12" href="https://www.google.com/url?q=http://tone.js&amp;sa=D&amp;source=editors&amp;ust=1747012233048789&amp;usg=AOvVaw343FHwJgpmy5IHuqN90svc">tone.js</a></span><span class="c3 c2">&nbsp;construct of Tone.userMedia() (motu) is made. This is essentially the medium the user will use to playback and record audio (In my case, the scarlett solo audio interface). After this, the object used for recording the mainloop and the overdubLoop are made, and the port to the arduino to allow for communication is opened. After this, the other text on the screen says to press enter to go to the loop page, which is the next state. Once enter is pressed and registered, the next state and page shown is the main breadth of the project.</span></p><p class="c8"><span class="c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The text on this page says to click the main loop button to start recording the mainloop. Once that button is pressed, the arduino sends a number to p5. To start the main loop, the code sent is 1, to stop the main loop, the code sent is 0. If the button is pressed for the first time, the text is changed from being initialized to nothing to say recording, and right below it the sprite animation for recording begins. The first button press goes to the </span><span class="c2 c9">mainRecord</span><span class="c2">&nbsp;function. This basically starts the recorder we made earlier in the </span><span class="c2 c9">connectToSerial</span><span class="c2">&nbsp;function. Once the button is pressed again and a code of 0 is sent to the p5, the code goes to the</span><span class="c2 c9">&nbsp;mainPlay</span><span class="c3 c2">&nbsp;function. &nbsp;Here, the recorder is stopped and its output is saved as a recording, which is then made able to be downloaded for future download. Along with this, the audio-playback begins. For both the record and play functions, an animation corresponding to the respective functionality plays. </span></p><p class="c8"><span class="c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Now for the overdub functionality. The overdub is essentially the same as the mainloop button, except instead of </span><span class="c2 c9">mainRecord </span><span class="c2">and </span><span class="c2 c9">mainPlay</span><span class="c2">, the functions are </span><span class="c2 c9">secondRecord </span><span class="c2">and </span><span class="c2 c9">secondPlay.</span><span class="c3 c2">&nbsp;These do the same thing but for the overdub loop. One notable difference though, if the overdub lasts longer than the main loop, the overdub is automatically cut. This is to maintain synchronization between the two loops, and essentially allows the overdub button to be pressed once, and until the loop ends, it records the users output. </span></p><p class="c8"><span class="c3 c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Now is a good time to mention the LED&rsquo;s. The 2 main LEDs are on the arduino side, and do not communicate to P5 at all. Instead, these LED&rsquo;s light up to show their corresponding buttons have been pressed. The 3rd LED, the red &ldquo;make it stop&rdquo; LED, does take communication from the p5. When the &ldquo;make it stop button&rdquo; at the top left of the screen is pressed, the Arduino is sent a code from the p5 which signals the red LED to flash rapidly for a set amount of time. This signals the loops ending, but they are still saved, and if one was to &ldquo;make it stop&rdquo; and go to the next page by pressing tab, they would still be able to download the last recorded loops. </span></p><p class="c8"><span class="c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Once the User is done recording and playing back loops, they can press the TAB key to enter the last state of the website, which is the thank you page and the download page. At the top left, there is a button that says &ldquo;download your abomination&hellip; i mean creation&rdquo; which if pressed simply downloads the two loops. This is done through filesaver.js, and using blobs made from the ending of recording (Inside </span><span class="c2 c9">mainPlay and secondPla</span><span class="c3 c2">y).</span></p><p class="c4"><span class="c3 c2"></span></p><p class="c0"><span class="c3 c7">Project Images/Video/diagram:</span></p><p class="c8"><span class="c3 c2">Here is a video of the project working:</span></p><p class="c8"><span class="c9 c19"><a class="c12" href="https://www.google.com/url?q=https://drive.google.com/file/d/13yuFVIniX1Ow462oSEszCmIRJabXmTfu/view?usp%3Dsharing&amp;sa=D&amp;source=editors&amp;ust=1747012233052526&amp;usg=AOvVaw1cZcXBaoyc4_cmZeukQUc2">IMG_9059.MOV</a></span></p><p class="c8"><span class="c3 c2">Here is an image of the breadboard connected to the website:</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 507.50px; height: 683.66px;"><img alt="" src="images/image3.png" style="width: 507.50px; height: 683.66px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c8"><span class="c3 c2">Here is the 3 pages of the website (the three states):</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 314.67px;"><img alt="" src="images/image5.png" style="width: 624.00px; height: 314.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c8"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 309.33px;"><img alt="" src="images/image6.png" style="width: 624.00px; height: 309.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 310.67px;"><img alt="" src="images/image1.png" style="width: 624.00px; height: 310.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c8"><span class="c3 c2">Here is the original sprite sheet:</span></p><p class="c8"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 78.67px;"><img alt="" src="images/image2.png" style="width: 624.00px; height: 78.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c8"><span class="c3 c2">Here is a simple user flow diagram:</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 430.00px; height: 727.00px;"><img alt="" src="images/image4.png" style="width: 430.00px; height: 727.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c4"><span class="c3 c2"></span></p><p class="c0"><span class="c3 c7">Future Plans/Notes:</span></p><p class="c8"><span class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3 c2">One of the issues mentioned prior with looper pedals in general is the synchronization issue. Synchronization is very hard to get right, which is why I recommend using some studio &nbsp;audio interface when using this code. Furthermore, the overdub button does not work perfectly. If the button is pressed before the mainloop completes an iteration, the loop still saves and what not, but since they are different lengths it becomes unsynced. That is why I recommend pressing the overdub once and again after the mainloop has looped. This will make an overdub loop of the same length of mainLoop, making them synced. I was unsure how to append an audio file, maybe it would be something as simple as letting the loop play out, but turning off the input mic (digitally). This would give the illusion of full loop syncing, and may work well.</span></p><p class="c8"><span class="c3 c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Another issue, also previously mentioned, is timing when to come in and stop before pressing both buttons. This is made more difficult with p5 website general latency, and is already a learning curve for every person first getting started with a looper pedal. The fix for this is practice, and potentially adding a buffer time for come in and come out of both loops.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In terms of plans, I think posting this code with an open source intention with the wiring diagram up would be very useful. There is only one looper pedal that I know of that does this, but it was a little more complex than my code, but also has more functions and probably works better. So for future notes, in general optimization of qualities is the biggest concern. </span></p><p class="c4"><span class="c3 c2"></span></p><p class="c0 c5"><span class="c3 c7"></span></p><p class="c0"><span class="c3 c7">Github link:</span></p><p class="c0"><span class="c7 c9 c11"><a class="c12" href="https://www.google.com/url?q=https://github.com/Kyler115/FINAL-PROJECT&amp;sa=D&amp;source=editors&amp;ust=1747012233056777&amp;usg=AOvVaw176xlHBN61drmkeaxm87f_">Kyler115/FINAL-PROJECT</a></span></p><p class="c8"><span class="c3 c2">Note: I think my comments on the code are very helpful for understanding flow, so be sure to look at them if extra help is needed.</span></p><p class="c0 c5"><span class="c3 c7"></span></p><p class="c0 c5"><span class="c3 c7"></span></p><p class="c0 c5"><span class="c3 c7"></span></p><p class="c0 c5"><span class="c3 c7"></span></p><p class="c0 c5"><span class="c3 c7"></span></p><p class="c0 c5"><span class="c3 c7"></span></p><p class="c0 c5"><span class="c3 c7"></span></p><p class="c0 c5"><span class="c3 c7"></span></p><p class="c0 c5"><span class="c3 c7"></span></p><p class="c0 c5"><span class="c3 c7"></span></p><p class="c4"><span class="c3 c7"></span></p><p class="c0"><span class="c3 c7">Resources:</span></p><ul class="c6 lst-kix_pw4nd3ovbcz8-0 start"><li class="c1 li-bullet-0"><span class="c2 c9 c11"><a class="c12" href="https://www.google.com/url?q=https://github.com/eligrey/FileSaver.js&amp;sa=D&amp;source=editors&amp;ust=1747012233057471&amp;usg=AOvVaw0PGomf3aJVjufVwOsNibYz">GitHub - eligrey/FileSaver.js: An HTML5 saveAs() FileSaver implementation</a></span></li><li class="c1 li-bullet-0"><span class="c2 c9 c11"><a class="c12" href="https://www.google.com/url?q=https://stackoverflow.com/questions/23722709/create-a-variable-using-document-createelementa-and-apply-click-on-it-withou&amp;sa=D&amp;source=editors&amp;ust=1747012233057739&amp;usg=AOvVaw3g5KTpV03hZAN5ATaj8vKt">javascript - Create a variable using document.createElement(&#39;a&#39;) and apply click on it without appending it to DOM - Stack Overflow</a></span></li><li class="c1 li-bullet-0"><span class="c2 c9 c11"><a class="c12" href="https://www.google.com/url?q=https://developer.mozilla.org/en-US/docs/Web/API/Window/setTimeout&amp;sa=D&amp;source=editors&amp;ust=1747012233057874&amp;usg=AOvVaw32RmmpqKiQhFn0Z_0vulKI">Window: setTimeout() method - Web APIs | MDN</a></span></li><li class="c1 li-bullet-0"><span class="c2 c9 c11"><a class="c12" href="https://www.google.com/url?q=https://tonejs.github.io/docs/15.0.4/classes/Player.html&amp;sa=D&amp;source=editors&amp;ust=1747012233057970&amp;usg=AOvVaw1fplPKgYaW_dXRVRw5iGEz">Player | </a></span><span class="c2 c9 c11"><a class="c12" href="https://www.google.com/url?q=http://tone.js&amp;sa=D&amp;source=editors&amp;ust=1747012233058020&amp;usg=AOvVaw0r9I_KmTnTdzi4hQZIxNrB">Tone.js</a></span></li><li class="c1 li-bullet-0"><span class="c2 c9 c11"><a class="c12" href="https://www.google.com/url?q=https://developer.mozilla.org/en-US/docs/Web/API/Blob&amp;sa=D&amp;source=editors&amp;ust=1747012233058125&amp;usg=AOvVaw1za-dd21OgDwghrc97oIOC">Blob - Web APIs | MDN</a></span></li><li class="c1 li-bullet-0"><span class="c2 c9 c11"><a class="c12" href="https://www.google.com/url?q=https://stackoverflow.com/questions/61698645/how-can-i-replay-the-recorded-audio-in-my-javascript-sketch&amp;sa=D&amp;source=editors&amp;ust=1747012233058315&amp;usg=AOvVaw0MoxwDM59bjzPiMvAQJ02t">How can I replay the recorded audio in my JavaScript sketch? - Stack Overflow</a></span></li><li class="c1 li-bullet-0"><span class="c2 c9 c11"><a class="c12" href="https://www.google.com/url?q=https://tonejs.github.io/docs/14.7.39/Recorder&amp;sa=D&amp;source=editors&amp;ust=1747012233058405&amp;usg=AOvVaw16mURRrKACNM_x4VGO318e">Recorder</a></span></li><li class="c1 li-bullet-0"><span class="c2 c9 c11"><a class="c12" href="https://www.google.com/url?q=https://tonejs.github.io/docs/r11/UserMedia&amp;sa=D&amp;source=editors&amp;ust=1747012233058538&amp;usg=AOvVaw1xEjQ64NLzsGH4D4fcfzn-">UserMedia</a></span></li><li class="c1 li-bullet-0"><span class="c2 c9 c11"><a class="c12" href="https://www.google.com/url?q=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise&amp;sa=D&amp;source=editors&amp;ust=1747012233058703&amp;usg=AOvVaw2Ryn48iKcuPsY8wo6nUmjf">Promise - JavaScript | MDN</a></span></li><li class="c1 li-bullet-0"><span class="c2 c9 c11"><a class="c12" href="https://www.google.com/url?q=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await&amp;sa=D&amp;source=editors&amp;ust=1747012233058829&amp;usg=AOvVaw1ZAEsLJFRd3rvN8yTFK5gi">await - JavaScript | MDN</a></span></li><li class="c1 li-bullet-0"><span class="c2 c9 c11"><a class="c12" href="https://www.google.com/url?q=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/async_function&amp;sa=D&amp;source=editors&amp;ust=1747012233058974&amp;usg=AOvVaw0d4JcE5Za3NyMFl3SFjuqt">async function expression - JavaScript | MDN</a></span></li></ul></body></html>